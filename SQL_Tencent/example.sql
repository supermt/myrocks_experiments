SET rocksdb_max_row_locks=1073741824;
Use mtr;DROP Table if exists`media_streaming`;
Create Table `media_streaming` (logtime timestamp, svr_ip VARCHAR(200), user_ip VARCHAR(200), port INT, host VARCHAR(200), url VARCHAR(500), req_args VARCHAR(200), strrange VARCHAR(200), http_code INT, send_bytes INT, handle_time INT, refer VARCHAR(200), user_agent VARCHAR(200), stdform VARCHAR(200), uin VARCHAR(200), isnormalclosed INT, url302 VARCHAR(500), cdn INT, sample INT, filesize VARCHAR(500), inner_errcode INT, inner_filename VARCHAR(200), bizid INT, flow INT, clientappid VARCHAR(200), reverse_proxy VARCHAR(200), oc_id VARCHAR(200), str_reserve VARCHAR(200), vkey VARCHAR(500), int_reserve INT, province INT, isp INT, log_type INT, get_store_time INT, deliver_time INT, store_type INT, bit_rate INT, media_time INT, media_type VARCHAR(200), req_type INT, inner_errmsg VARCHAR(200), content_type VARCHAR(200), store_ip VARCHAR(200), resolution INT, reserve1 INT, reserve2 INT, reserve3 INT, reserve4 VARCHAR(200), reserve5 VARCHAR(200)) Engine=ROCKSDB;
LOAD DATA infile '/home/supermt/git/workload-generating/SQL_Tencent/vodlog2.csv' INTO Table `media_streaming` (logtime,svr_ip,user_ip,@vport,host,url,req_args,strrange,@vhttp_code,@vsend_bytes,@vhandle_time,refer,user_agent,stdform,uin,@visnormalclosed,url302,@vcdn,@vsample,filesize,@vinner_errcode,inner_filename,@vbizid,@vflow,clientappid,reverse_proxy,oc_id,str_reserve,vkey,@vint_reserve,@vprovince,@visp,@vlog_type,@vget_store_time,@vdeliver_time,@vstore_type,@vbit_rate,@vmedia_time,media_type,@vreq_type,inner_errmsg,content_type,store_ip,@vresolution,@vreserve1,@vreserve2,@vreserve3,reserve4,reserve5) SET port = nullif(@vport,''), http_code = nullif(@vhttp_code,''), send_bytes = nullif(@vsend_bytes,''), handle_time = nullif(@vhandle_time,''), isnormalclosed = nullif(@visnormalclosed,''), cdn = nullif(@vcdn,''), sample = nullif(@vsample,''), inner_errcode = nullif(@vinner_errcode,''), bizid = nullif(@vbizid,''), flow = nullif(@vflow,''), int_reserve = nullif(@vint_reserve,''), province = nullif(@vprovince,''), isp = nullif(@visp,''), log_type = nullif(@vlog_type,''), get_store_time = nullif(@vget_store_time,''), deliver_time = nullif(@vdeliver_time,''), store_type = nullif(@vstore_type,''), bit_rate = nullif(@vbit_rate,''), media_time = nullif(@vmedia_time,''), req_type = nullif(@vreq_type,''), resolution = nullif(@vresolution,''), reserve1 = nullif(@vreserve1,''), reserve2 = nullif(@vreserve2,''), reserve3 = nullif(@vreserve3,'')
